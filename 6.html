<html>
<head>
<style>
canvas {
        border: 1px solid red;
}
</style>
</head>
<body>
<canvas id="canvas" width="200" height="400" ></canvas>
<script>

canvas = document.getElementById('canvas')
ctx = canvas.getContext('2d')

ctx.translate(0, canvas.height / 2);
ctx.scale(1, -1)

k = -200

fps = 50

yp1 = Math.sin(0 * 2 * Math.PI / 200) * 150
yp2 = Math.sin(1 * 2 * Math.PI / 200) * 150

animate()

function animate() {

    ctx.clearRect(0, canvas.height / 2, canvas.width, -canvas.height);

    Y = (sine(200, 150)).
    concat(sine(200, 150))
    start = k
    x = start
    ctx.beginPath()
    ctx.moveTo(x, Y[x - start])
    x += 1
    while (x - start < Y.length-1) {
        ctx.lineTo(x, Y[x - start])
        ctx.stroke()
        
        ctx.beginPath()
        ctx.moveTo(x, Y[x - start])
        x += 1
    }
    ctx.lineTo(x, Y[Y.length-1])
    ctx.stroke()
	
	y = Math.sin(k * 2 * Math.PI / 200) * 150
	
	ctx.beginPath();
	ctx.arc(100, y, 6, 0, Math.PI*2, true);
	ctx.fill();
	ctx.beginPath();
	ctx.arc(101, yp1, 4, 0, Math.PI*2, true);
	ctx.fill();
	ctx.arc(102, yp2, 2, 0, Math.PI*2, true);
	ctx.fill();
	
	yp2=yp1
	yp1=y

    setTimeout(function () {
        requestAnimationFrame(animate);
    }, 1000 / fps)

    if (k == 0) k = -200
    else k += 1
}

function sine(Period, Amplitute) {
    Y = []
    x = 0
    while (x < Period) {
        y = Math.sin(x * 2 * Math.PI / Period) * Amplitute
        Y.push(y)
        x += 1
    }
    return Y
}

</script> 
</body>